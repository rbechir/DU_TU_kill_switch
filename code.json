{"slots":{"0":{"name":"databank","type":{"events":[],"methods":[]}},"1":{"name":"slot2","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"master = false --export: Indiquer s'il s'agit du clavier principal ou non\nTU_1_maintain = 0 --export: Maintain du 1e transfer unit\nTU_2_maintain = 0 --export: Maintain du 2e transfer unit\nTU_3_maintain = 0 --export: Maintain du 3e transfer unit\nTU_4_maintain = 0 --export: Maintain du 4e transfer unit\nTU_5_maintain = 0 --export: Maintain du 5e transfer unit\nTU_6_maintain = 0 --export: Maintain du 6e transfer unit\nTU_7_maintain = 0 --export: Maintain du 7e transfer unit\nTU_8_maintain = 0 --export: Maintain du 8e transfer unit\nTU_9_maintain = 0 --export: Maintain du 9e transfer unit\n\nif not master then\n    unit.hideWidget()\nend\n\nif databank.getNbKeys == 0 then\n    databank.setIntValue(\"active\", 0)\n    databank.setIntValue(\"working\", 0)\nend\n\ndatabank.setIntValue(\"working\", databank.getIntValue(\"working\") + 1)\n\nif databank.getIntValue(\"active\") == 0 then\n    if master then\n        if slot3 then slot3.startMaintain(TU_1_maintain) end\n        if slot4 then slot4.startMaintain(TU_2_maintain) end\n        if slot5 then slot5.startMaintain(TU_3_maintain) end\n        if slot6 then slot6.startMaintain(TU_4_maintain) end\n        if slot7 then slot7.startMaintain(TU_5_maintain) end\n        if slot8 then slot8.startMaintain(TU_6_maintain) end\n        if slot9 then slot9.startMaintain(TU_7_maintain) end\n        if slot10 then slot10.startMaintain(TU_8_maintain) end\n    else\n        if slot2 then slot2.startMaintain(TU_1_maintain) end\n        if slot3 then slot3.startMaintain(TU_2_maintain) end\n        if slot4 then slot4.startMaintain(TU_3_maintain) end\n        if slot5 then slot5.startMaintain(TU_4_maintain) end\n        if slot6 then slot6.startMaintain(TU_5_maintain) end\n        if slot7 then slot7.startMaintain(TU_6_maintain) end\n        if slot8 then slot8.startMaintain(TU_7_maintain) end\n        if slot9 then slot9.startMaintain(TU_8_maintain) end\n        if slot10 then slot10.startMaintain(TU_9_maintain) end\n    end\nelse\n    if not master then\n        if slot2 then slot2.stop() end\n    end\n    if slot3 then slot3.stop() end\n    if slot4 then slot4.stop() end\n    if slot5 then slot5.stop() end\n    if slot6 then slot6.stop() end\n    if slot7 then slot7.stop() end\n    if slot8 then slot8.stop() end\n    if slot9 then slot9.stop() end\n    if slot10 then slot10.stop() end\nend\n\ndatabank.setIntValue(\"working\", databank.getIntValue(\"working\") - 1)\n\nif master then\n    unit.setTimer(\"working\", 0.1)\nend","filter":{"args":[],"signature":"onStart()","slotKey":"-1"},"key":"0"},{"code":"if databank.getIntValue(\"working\") == 0 then\n    if databank.getIntValue(\"active\") == 0 then\n        databank.setIntValue(\"active\", 1)\n        slot2.setColor(0, 1, 0)\n    else\n        databank.setIntValue(\"active\", 0)\n        slot2.setColor(1, 0, 0)\n    end\n    unit.exit()\nend","filter":{"args":[{"value":"working"}],"signature":"onTimer(tag)","slotKey":"-1"},"key":"1"}],"methods":[],"events":[]}
